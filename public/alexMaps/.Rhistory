main="Overlapped barplot: residents and staff")
barplot(epi$casesResident, border=FALSE, add=TRUE, space=0,
col=adjustcolor("red", alpha.f=0.6))
legend(x="topleft", fill=adjustcolor(c("blue", "red"), alpha.f=0.6),
legend=c("Staff", "Resident"), bty="n", border=FALSE)
####
# GENDER
#####
barplot(epi$casesMale, space=0, names.arg=format(epi$onset, format="%b %d"),
main="Male", las=3, cex.names=0.75)
barplot(epi$casesFemale, space=0, names.arg=format(epi$onset, format="%b %d"),
main="Female", las=3, cex.names=0.75)
####
# 14.
####
#summary by symptom
summary(outbreak$diar)
summary(outbreak$vomit)
summary(outbreak$fatigue)
summary(outbreak$nausea)
############# NUMBER OF SYMPTOMS
outbreak$sym <- ifelse(outbreak$nausea=="Y", 1, 0) +
ifelse(outbreak$diar=="Y", 1, 0) +
ifelse(outbreak$vomit=="Y", 1, 0) +
ifelse(outbreak$fatigue=="Y", 1, 0)
barplot(summary(factor(outbreak$sym)))
#this plot shows that most people have two symptoms
####PLOT BY SYMPTOMS
plot(epi$onset, epi$casesnausea, type="l", lty=1, ylim=c(0,20), xlab="Onset date",
ylab=c("New cases"), main="New cases by symptom")
points(epi$onset, epi$casesnausea, pch=1)
lines(epi$onset, epi$casesvomit, lty=2)
points(epi$onset, epi$casesvomit, pch=2)
lines(epi$onset, epi$casesdiar, lty=3)
points(epi$onset, epi$casesdiar, pch=3)
lines(epi$onset, epi$casesfatigue, lty=6)
points(epi$onset, epi$casesfatigue, pch=6)
legend(x="topleft", legend=c("Nausea", "Vomiting", "Diarrhea", "Fatigue"),
lty=c(1,2,3,6), pch=c(1,2,3,6), bty="n", border=FALSE, cex=0.8)
#PLOT BY SEX
plot(epi$onset, epi$casesFemale, type="l", lty=1, ylim=c(0,15), xlab="Onset date",
ylab=c("New cases"), main="New cases by sex")
points(epi$onset, epi$casesFemale, pch=1)
lines(epi$onset, epi$casesMale, lty=2)
points(epi$onset, epi$casesMale, pch=2)
legend(x="topleft", legend=c("Female", "Male"),
lty=c(1,2), pch=c(1,2), bty="n", border=FALSE, cex=0.8)
save.image("epicurve23jan2014.RData")
#SIR (susceptible, infected, removed)
#plot(epi$onset, epi$susceptible, type="l", ylim=c(0,tot.mem),
#     col=adjustcolor("darkgreen", alpha.f=0.6), xlab="Date", ylab="Individuals",
#     lwd=3)
#lines(epi$onset, epi$active, col=adjustcolor("red", alpha.f=0.6), lwd=3)
#lines(epi$onset, epi$removed, col=adjustcolor("blue", alpha.f=0.6), lwd=3)
#legend(x="topright", lwd=3, lty=1, col=adjustcolor(c("darkgreen", "blue", "red"), alpha.f=0.6),
#       bty="n", border=FALSE, legend=c("Susceptible", "Removed", "Infected"))
salaries <- read.csv("salaries.csv")
colnames(salaries)
hist(salaries$Salary)
salaries$Salary
gsub("$", "", salaries$Salary)
gsub("\$", "", salaries$Salary)
gsub("$", "", salaries$Salary)
gsub(",", "", salaries$Salary)
sal <- gsub(",","", salaries$Salary)
sal
nchar(sal)
sal2 <- substr(sal, 2, nchar(sal))
sal2
sal3 <- as.numeric(sal2)
sal3
sal2
sal3
salaries$money <- sal3
hist(salaries$money)
hist(salaries$money, breaks=30)
summary(salaries$money)
View(salaries)
nrow(salaries[which(salaries$Last.Name == "Brew"),])
setwd("E:/workingdirectory/prodReports")
posNumbers <- read.csv("employeePosNumbers.csv")
View(posNumbers)
colnames(posNumbers)
colnames(salaries)
for (i in posNumbers$PosNo){
posNumbers$money[which(posNumbers$PosNo == i)] <-
salaries$money[which(salaries$Position.Number == i)]
}
View(posNumbers)
length(posNumbers$PosNo)
length(unique(posNumbers$PosNo))
alachua <- as.data.frame(unique(sort(posNumbers$PosNo)))
colnames(alachua) <- "PosNo"
alachua <- as.data.frame(unique(sort(posNumbers$PosNo)))
colnames(alachua) <- "PosNo"
for (i in alachua$PosNo){
alachua$money[which(alachua$PosNo == i)] <-
salaries$money[which(salaries$Position.Number == i)]
}
View(alachua)
length(salaries$Position.Number)
length(unique(salaries$Position.Number))
alachua <- as.data.frame(unique(sort(posNumbers$PosNo)))
colnames(alachua) <- "PosNo"
for (i in alachua$PosNo){
alachua$money[which(alachua$PosNo == i)] <-
mean(salaries$money[which(salaries$Position.Number == i)], na.rm=TRUE)
}
View(alachua)
bla <- salaries[order(salaries$money),]
hist(bla$money)
barplot(bla$money)
abline(v=37500, col="red")
abline(g=37500, col="red")
abline(h=37500, col="red")
abline(h=77000, col="red")
colnames(salaries)
summary(salaries$Agency.Name)
health <- salaries[which(salaries$Agency.Name == "AHCA - Agency for Hlth Care Ad"),]
hist(health$money)
hist(health$money, breaks=30)
nrow(health[which(health$money <37500),]) / nrow(health)*100
nrow(health[which(health$money >37500),]) / nrow(health)*100
library(gdata)
library(maps)
library(mapdata)
library(maptools)
library(RColorBrewer)
library(rJava)
library(OpenStreetMap)
library(rgdal)
library(shapefiles)
#READ IN MAP
setwd("E:/workingdirectory/gis/elem")
elementary <- readShapePoly("SBAC_school_zones_elementary.shp")
#READ IN DATA
setwd("E:/workingdirectory/alexMaps")
dental <- read.xls("dental.xls")
dental$Untreated.cavities <- as.numeric(as.character(gsub("%", "",dental$Untreated.cavities)))
dental$Caries.experience <- as.numeric(as.character(gsub("%", "",dental$Caries.experience)))
dental$Urgent.need <- as.numeric(as.character(gsub("%", "",dental$Urgent.need)))
dental$Sealants <- as.numeric(as.character(gsub("%", "",dental$Sealants)))
dental <- dental[order(dental$Facility),]
#CREATE PALETTE
library(RColorBrewer)
library(classInt)
#MAKE A DENTAL MAP DATABASE
dentalMap <- as.data.frame(elementary$Facility)
colnames(dentalMap) <- "Facility"
par(mfrow=c(1,1))
par(mfrow=c(2,2))
par(oma=c(1,1,1,1))
par(mar=c(1,2,2,3))
######################
#Untreated.cavities
######################
dentalMap$Untreated.cavities <- NA
for (i in dentalMap$Facility){
dentalMap$Untreated.cavities[which(dentalMap$Facility==i)] <-
dental$Untreated.cavities[which(dental$Facility==i)]}
#Untreated.cavities
nclr <- 5 # number of bins
min <- floor(min(dentalMap$Untreated.cavities))# theoretical minimum
max <- ceiling(max(dentalMap$Untreated.cavities)) # theoretical maximum
breaks <- (max - min) / nclr
plotclr <- brewer.pal(nclr, "Purples")
plotvar <- dentalMap$Untreated.cavities
class <- classIntervals(plotvar,
nclr,
style = "fixed",
fixedBreaks = seq(min, max, breaks))
colcode <- findColours(class,
plotclr)
plot(elementary, col="grey",  lty=0)
plot(elementary, col=colcode, lty=0, add=TRUE)
plot(elementary, border="grey", lty=1, lwd=1.4, add=TRUE)
colcode2 <- gsub("[[]|[)]|[]]","",names(attr(colcode, "table")))
colcode2 <- gsub(","," - ", colcode2)
legend("topright", # position
legend = colcode2,
title = "Untreated cavities (%)",
fill = attr(colcode, "palette"),
cex = 0.56,
bty = "n") # border
######################
#Caries.experience
######################
dentalMap$Caries.experience <- NA
for (i in dentalMap$Facility){
dentalMap$Caries.experience[which(dentalMap$Facility==i)] <-
dental$Caries.experience[which(dental$Facility==i)]}
#Caries.experience
nclr <- 5 # number of bins
min <- floor(min(dentalMap$Caries.experience))# theoretical minimum
max <- ceiling(max(dentalMap$Caries.experience)) # theoretical maximum
breaks <- (max - min) / nclr
plotclr <- brewer.pal(nclr, "Greens")
plotvar <- dentalMap$Caries.experience
class <- classIntervals(plotvar,
nclr,
style = "fixed",
fixedBreaks = seq(min, max, breaks))
colcode <- findColours(class,
plotclr)
plot(elementary, col="grey",  lty=0)
plot(elementary, col=colcode, lty=0, add=TRUE)
plot(elementary, border="grey", lty=1, lwd=1.4, add=TRUE)
colcode2 <- gsub("[[]|[)]|[]]","",names(attr(colcode, "table")))
colcode2 <- gsub(","," - ", colcode2)
legend("topright", # position
legend = colcode2,
title = "Caries experience (%)",
fill = attr(colcode, "palette"),
cex = 0.56,
bty = "n") # border
######################
#Urgent.need
######################
dentalMap$Urgent.need <- NA
for (i in dentalMap$Facility){
dentalMap$Urgent.need[which(dentalMap$Facility==i)] <-
dental$Urgent.need[which(dental$Facility==i)]}
#Urgent.need
nclr <- 5 # number of bins
min <- floor(min(dentalMap$Urgent.need))# theoretical minimum
max <- ceiling(max(dentalMap$Urgent.need)) # theoretical maximum
breaks <- (max - min) / nclr
plotclr <- brewer.pal(nclr, "Reds")
plotvar <- dentalMap$Urgent.need
class <- classIntervals(plotvar,
nclr,
style = "fixed",
fixedBreaks = seq(min, max, breaks))
colcode <- findColours(class,
plotclr)
plot(elementary, col="grey",  lty=0)
plot(elementary, col=colcode, lty=0, add=TRUE)
plot(elementary, border="grey", lty=1, lwd=1.4, add=TRUE)
colcode2 <- gsub("[[]|[)]|[]]","",names(attr(colcode, "table")))
colcode2 <- gsub(","," - ", colcode2)
legend("topright", # position
legend = colcode2,
title = "Urgent need (%)",
fill = attr(colcode, "palette"),
cex = 0.56,
bty = "n") # border
######################
#Sealants
######################
dentalMap$Sealants <- NA
for (i in dentalMap$Facility){
dentalMap$Sealants[which(dentalMap$Facility==i)] <-
dental$Sealants[which(dental$Facility==i)]}
#Sealants
nclr <- 5 # number of bins
min <- floor(min(dentalMap$Sealants))# theoretical minimum
max <- ceiling(max(dentalMap$Sealants)) # theoretical maximum
breaks <- (max - min) / nclr
plotclr <- brewer.pal(nclr, "Blues")
plotvar <- dentalMap$Sealants
class <- classIntervals(plotvar,
nclr,
style = "fixed",
fixedBreaks = seq(min, max, breaks))
colcode <- findColours(class,
plotclr)
plot(elementary, col="grey",  lty=0)
plot(elementary, col=colcode, lty=0, add=TRUE)
plot(elementary, border="grey", lty=1, lwd=1.4, add=TRUE)
colcode2 <- gsub("[[]|[)]|[]]","",names(attr(colcode, "table")))
colcode2 <- gsub(","," - ", colcode2)
legend("topright", # position
legend = colcode2,
title = "Sealants (%)",
fill = attr(colcode, "palette"),
cex = 0.56,
bty = "n") # border
title(main="Oral Health Indicators in Alachua County Elementary Schools", outer=TRUE, line=-1)
#
dental$Untreated.cavitiesCat <- cut(dental$Untreated.cavities, breaks=5)
dental$Caries.experienceCat <- cut(dental$Caries.experience, breaks=5)
dental$Urgent.needCat <- cut(dental$Urgent.need, breaks=5)
dental$SealantsCat <- cut(dental$Sealants, breaks=5)
dental$Untreated.cavitiesCol <-
cols <- colorRampPalette(brewer.pal(5, "Purples"))(5)
par(mfrow=c(2,2))
par(oma=c(1,1,1,1))
par(mar=c(5,4,2,1))
#PLOT Untreated.cavities
dental$Untreated.cavitiesround <- round(dental$Untreated.cavities)
alexColsb <- colorRampPalette(brewer.pal(9, "Purples"))(max(dental$Untreated.cavitiesround) -
min(dental$Untreated.cavitiesround))
plot(elementary, col=alexColsb[(dental$Untreated.cavitiesround-min(dental$Untreated.cavities)+1)], border="grey")
legend(x="topright", title="Untreated cavities (%)", fill=c(alexColsb[1],
alexColsb[median(dental$Untreated.cavitiesround)-min(dental$Untreated.cavitiesround)],
alexColsb[max(dental$Untreated.cavitiesround)- min(dental$Untreated.cavitiesround)]),
legend=c(min(dental$Untreated.cavitiesround), median(dental$Untreated.cavitiesround), max(dental$Untreated.cavitiesround)),
border="grey", bty="n", cex=0.7, y.intersp=0.8)
#PLOT Caries.experience
dental$Caries.experienceround <- round(dental$Caries.experience)
alexColsb <- colorRampPalette(brewer.pal(9, "Greens"))(max(dental$Caries.experienceround) -
min(dental$Caries.experienceround))
plot(elementary, col=alexColsb[(dental$Caries.experienceround-min(dental$Caries.experience)+1)], border="grey")
legend(x="topright", title="Caries experience (%)", fill=c(alexColsb[1],
alexColsb[median(dental$Caries.experienceround)-min(dental$Caries.experienceround)],
alexColsb[max(dental$Caries.experienceround)- min(dental$Caries.experienceround)]),
legend=c(min(dental$Caries.experienceround), median(dental$Caries.experienceround), max(dental$Caries.experienceround)),
border="grey", bty="n", cex=0.7, y.intersp=0.8)
#PLOT Urgent.need
dental$Urgent.needround <- round(dental$Urgent.need)
alexColsb <- colorRampPalette(brewer.pal(9, "Reds"))(max(dental$Urgent.needround) -
min(dental$Urgent.needround))
plot(elementary, col=alexColsb[(dental$Urgent.needround-min(dental$Urgent.need)+1)], border="grey")
legend(x="topright", title="Urgent need (%)", fill=c(alexColsb[1],
alexColsb[median(dental$Urgent.needround)-min(dental$Urgent.needround)],
alexColsb[max(dental$Urgent.needround)- min(dental$Urgent.needround)]),
legend=c(min(dental$Urgent.needround), median(dental$Urgent.needround), max(dental$Urgent.needround)),
border="grey", bty="n", cex=0.7, y.intersp=0.8)
#PLOT Sealants
dental$Sealantsround <- round(dental$Sealants)
alexColsb <- colorRampPalette(brewer.pal(9, "Blues"))(max(dental$Sealantsround) -
min(dental$Sealantsround))
plot(elementary, col=alexColsb[(dental$Sealantsround-min(dental$Sealants)+1)], border="grey")
legend(x="topright", title="Sealants (%)", fill=c(alexColsb[1],
alexColsb[median(dental$Sealantsround)-min(dental$Sealantsround)],
alexColsb[max(dental$Sealantsround)- min(dental$Sealantsround)]),
legend=c(min(dental$Sealantsround), median(dental$Sealantsround), max(dental$Sealantsround)),
border="grey", bty="n", cex=0.7, y.intersp=0.8)
title(main="Dental Health Indicators in Alachua Elementary Schools", outer=TRUE, line=-1)
#################
# NOW WITH QUARTILES
##################
par(mfrow=c(1,1))
par(oma=c(1,1,1,1))
par(mar=c(3,3,6,1))
#PLOT Untreated.cavities
dental$Untreated.cavitiesround <- round(dental$Untreated.cavities)
alexColsb <- colorRampPalette(brewer.pal(9, "Purples"))(max(dental$Untreated.cavitiesround) -
min(dental$Untreated.cavitiesround)+1)
plot(elementary, col=alexColsb[(dental$Untreated.cavitiesround-min(dental$Untreated.cavities)+1)], border="grey")
legend(x="topright", title="Untreated cavities (%)", fill=alexColsb[as.numeric(quantile(dental$Untreated.cavitiesround)) -
min(dental$Untreated.cavitiesround) +1],
legend=min(dental$Untreated.cavitiesround) + as.numeric(quantile(dental$Untreated.cavitiesround)) - min(dental$Untreated.cavitiesround),
border="grey", bty="n", cex=0.6, y.intersp=0.7)
title(main="Oral Health Indicators in Alachua County Elementary Schools", outer=TRUE, line=-1)
#PLOT Caries.experience
dental$Caries.experienceround <- round(dental$Caries.experience)
alexColsb <- colorRampPalette(brewer.pal(9, "Greens"))(max(dental$Caries.experienceround) -
min(dental$Caries.experienceround)+1)
plot(elementary, col=alexColsb[(dental$Caries.experienceround-min(dental$Caries.experience)+1)], border="grey")
legend(x="topright", title="Caries experience (%)", fill=alexColsb[as.numeric(quantile(dental$Caries.experienceround)) -
min(dental$Caries.experienceround) +1],
legend=min(dental$Caries.experienceround) + as.numeric(quantile(dental$Caries.experienceround)) - min(dental$Caries.experienceround),
border="grey", bty="n", cex=0.6, y.intersp=0.7)
title(main="Oral Health Indicators in Alachua County Elementary Schools", outer=TRUE, line=-1)
#PLOT Urgent.need
dental$Urgent.needround <- round(dental$Urgent.need)
alexColsb <- colorRampPalette(brewer.pal(9, "Reds"))(max(dental$Urgent.needround) -
min(dental$Urgent.needround)+1)
plot(elementary, col=alexColsb[(dental$Urgent.needround-min(dental$Urgent.need)+1)], border="grey")
legend(x="topright", title="Urgent need (%)", fill=alexColsb[as.numeric(quantile(dental$Urgent.needround)) -
min(dental$Urgent.needround) +1],
legend=min(dental$Urgent.needround) + as.numeric(quantile(dental$Urgent.needround)) - min(dental$Urgent.needround),
border="grey", bty="n", cex=0.6, y.intersp=0.7)
title(main="Oral Health Indicators in Alachua County Elementary Schools", outer=TRUE, line=-1)
#PLOT Sealants
dental$Sealantsround <- round(dental$Sealants)
alexColsb <- colorRampPalette(brewer.pal(9, "Blues"))(max(dental$Sealantsround) -
min(dental$Sealantsround)+1)
plot(elementary, col=alexColsb[(dental$Sealantsround-min(dental$Sealants)+1)], border="grey")
legend(x="topright", title="Sealants (%)", fill=alexColsb[as.numeric(quantile(dental$Sealantsround)) -
min(dental$Sealantsround) +1],
legend=min(dental$Sealantsround) + as.numeric(quantile(dental$Sealantsround)) - min(dental$Sealantsround),
border="grey", bty="n", cex=0.6, y.intersp=0.7)
title(main="Oral Health Indicators in Alachua County Elementary Schools", outer=TRUE, line=-1)
par(mfrow=c(2,2))
par(oma=c(1,1,1,1))
par(mar=c(5,4,2,1))
#PLOT Untreated.cavities
dental$Untreated.cavitiesround <- round(dental$Untreated.cavities)
alexColsb <- colorRampPalette(brewer.pal(9, "Purples"))(max(dental$Untreated.cavitiesround) -
min(dental$Untreated.cavitiesround))
plot(elementary, col=alexColsb[(dental$Untreated.cavitiesround-min(dental$Untreated.cavities)+1)], border="grey")
legend(x="topright", title="Untreated cavities (%)", fill=c(alexColsb[1],
alexColsb[median(dental$Untreated.cavitiesround)-min(dental$Untreated.cavitiesround)],
alexColsb[max(dental$Untreated.cavitiesround)- min(dental$Untreated.cavitiesround)]),
legend=c(min(dental$Untreated.cavitiesround), median(dental$Untreated.cavitiesround), max(dental$Untreated.cavitiesround)),
border="grey", bty="n", cex=0.7, y.intersp=0.8)
#PLOT Caries.experience
dental$Caries.experienceround <- round(dental$Caries.experience)
alexColsb <- colorRampPalette(brewer.pal(9, "Greens"))(max(dental$Caries.experienceround) -
min(dental$Caries.experienceround))
plot(elementary, col=alexColsb[(dental$Caries.experienceround-min(dental$Caries.experience)+1)], border="grey")
legend(x="topright", title="Caries experience (%)", fill=c(alexColsb[1],
alexColsb[median(dental$Caries.experienceround)-min(dental$Caries.experienceround)],
alexColsb[max(dental$Caries.experienceround)- min(dental$Caries.experienceround)]),
legend=c(min(dental$Caries.experienceround), median(dental$Caries.experienceround), max(dental$Caries.experienceround)),
border="grey", bty="n", cex=0.7, y.intersp=0.8)
#PLOT Urgent.need
dental$Urgent.needround <- round(dental$Urgent.need)
alexColsb <- colorRampPalette(brewer.pal(9, "Reds"))(max(dental$Urgent.needround) -
min(dental$Urgent.needround))
plot(elementary, col=alexColsb[(dental$Urgent.needround-min(dental$Urgent.need)+1)], border="grey")
legend(x="topright", title="Urgent need (%)", fill=c(alexColsb[1],
alexColsb[median(dental$Urgent.needround)-min(dental$Urgent.needround)],
alexColsb[max(dental$Urgent.needround)- min(dental$Urgent.needround)]),
legend=c(min(dental$Urgent.needround), median(dental$Urgent.needround), max(dental$Urgent.needround)),
border="grey", bty="n", cex=0.7, y.intersp=0.8)
#PLOT Sealants
dental$Sealantsround <- round(dental$Sealants)
alexColsb <- colorRampPalette(brewer.pal(9, "Blues"))(max(dental$Sealantsround) -
min(dental$Sealantsround))
plot(elementary, col=alexColsb[(dental$Sealantsround-min(dental$Sealants)+1)], border="grey")
legend(x="topright", title="Sealants (%)", fill=c(alexColsb[1],
alexColsb[median(dental$Sealantsround)-min(dental$Sealantsround)],
alexColsb[max(dental$Sealantsround)- min(dental$Sealantsround)]),
legend=c(min(dental$Sealantsround), median(dental$Sealantsround), max(dental$Sealantsround)),
border="grey", bty="n", cex=0.7, y.intersp=0.8)
title(main="Dental Health Indicators in Alachua Elementary Schools", outer=TRUE, line=-1)
#################
# NOW WITH QUARTILES
##################
par(mfrow=c(1,1))
par(oma=c(1,1,1,1))
par(mar=c(3,3,6,1))
#PLOT Untreated.cavities
dental$Untreated.cavitiesround <- round(dental$Untreated.cavities)
alexColsb <- colorRampPalette(brewer.pal(9, "Purples"))(max(dental$Untreated.cavitiesround) -
min(dental$Untreated.cavitiesround)+1)
plot(elementary, col=alexColsb[(dental$Untreated.cavitiesround-min(dental$Untreated.cavities)+1)], border="grey")
legend(x="topright", title="Untreated cavities (%)", fill=alexColsb[as.numeric(quantile(dental$Untreated.cavitiesround)) -
min(dental$Untreated.cavitiesround) +1],
legend=min(dental$Untreated.cavitiesround) + as.numeric(quantile(dental$Untreated.cavitiesround)) - min(dental$Untreated.cavitiesround),
border="grey", bty="n", cex=0.6, y.intersp=0.7)
title(main="Oral Health Indicators in Alachua County Elementary Schools", outer=TRUE, line=-1)
#PLOT Caries.experience
dental$Caries.experienceround <- round(dental$Caries.experience)
alexColsb <- colorRampPalette(brewer.pal(9, "Greens"))(max(dental$Caries.experienceround) -
min(dental$Caries.experienceround)+1)
plot(elementary, col=alexColsb[(dental$Caries.experienceround-min(dental$Caries.experience)+1)], border="grey")
legend(x="topright", title="Caries experience (%)", fill=alexColsb[as.numeric(quantile(dental$Caries.experienceround)) -
min(dental$Caries.experienceround) +1],
legend=min(dental$Caries.experienceround) + as.numeric(quantile(dental$Caries.experienceround)) - min(dental$Caries.experienceround),
border="grey", bty="n", cex=0.6, y.intersp=0.7)
title(main="Oral Health Indicators in Alachua County Elementary Schools", outer=TRUE, line=-1)
#PLOT Urgent.need
dental$Urgent.needround <- round(dental$Urgent.need)
alexColsb <- colorRampPalette(brewer.pal(9, "Reds"))(max(dental$Urgent.needround) -
min(dental$Urgent.needround)+1)
plot(elementary, col=alexColsb[(dental$Urgent.needround-min(dental$Urgent.need)+1)], border="grey")
legend(x="topright", title="Urgent need (%)", fill=alexColsb[as.numeric(quantile(dental$Urgent.needround)) -
min(dental$Urgent.needround) +1],
legend=min(dental$Urgent.needround) + as.numeric(quantile(dental$Urgent.needround)) - min(dental$Urgent.needround),
border="grey", bty="n", cex=0.6, y.intersp=0.7)
title(main="Oral Health Indicators in Alachua County Elementary Schools", outer=TRUE, line=-1)
#PLOT Sealants
dental$Sealantsround <- round(dental$Sealants)
alexColsb <- colorRampPalette(brewer.pal(9, "Blues"))(max(dental$Sealantsround) -
min(dental$Sealantsround)+1)
plot(elementary, col=alexColsb[(dental$Sealantsround-min(dental$Sealants)+1)], border="grey")
legend(x="topright", title="Sealants (%)", fill=alexColsb[as.numeric(quantile(dental$Sealantsround)) -
min(dental$Sealantsround) +1],
legend=min(dental$Sealantsround) + as.numeric(quantile(dental$Sealantsround)) - min(dental$Sealantsround),
border="grey", bty="n", cex=0.6, y.intersp=0.7)
title(main="Oral Health Indicators in Alachua County Elementary Schools", outer=TRUE, line=-1)
par(mfrow=c(2,2))
par(oma=c(1,1,1,1))
par(mar=c(5,4,2,1))
#PLOT Untreated.cavities
dental$Untreated.cavitiesround <- round(dental$Untreated.cavities)
alexColsb <- colorRampPalette(brewer.pal(9, "Purples"))(max(dental$Untreated.cavitiesround) -
min(dental$Untreated.cavitiesround))
plot(elementary, col=alexColsb[(dental$Untreated.cavitiesround-min(dental$Untreated.cavities)+1)], border="grey")
legend(x="topright", title="Untreated cavities (%)", fill=c(alexColsb[1],
alexColsb[median(dental$Untreated.cavitiesround)-min(dental$Untreated.cavitiesround)],
alexColsb[max(dental$Untreated.cavitiesround)- min(dental$Untreated.cavitiesround)]),
legend=c(min(dental$Untreated.cavitiesround), median(dental$Untreated.cavitiesround), max(dental$Untreated.cavitiesround)),
border="grey", bty="n", cex=0.7, y.intersp=0.8)
#PLOT Caries.experience
dental$Caries.experienceround <- round(dental$Caries.experience)
alexColsb <- colorRampPalette(brewer.pal(9, "Greens"))(max(dental$Caries.experienceround) -
min(dental$Caries.experienceround))
plot(elementary, col=alexColsb[(dental$Caries.experienceround-min(dental$Caries.experience)+1)], border="grey")
legend(x="topright", title="Caries experience (%)", fill=c(alexColsb[1],
alexColsb[median(dental$Caries.experienceround)-min(dental$Caries.experienceround)],
alexColsb[max(dental$Caries.experienceround)- min(dental$Caries.experienceround)]),
legend=c(min(dental$Caries.experienceround), median(dental$Caries.experienceround), max(dental$Caries.experienceround)),
border="grey", bty="n", cex=0.7, y.intersp=0.8)
#PLOT Urgent.need
dental$Urgent.needround <- round(dental$Urgent.need)
alexColsb <- colorRampPalette(brewer.pal(9, "Reds"))(max(dental$Urgent.needround) -
min(dental$Urgent.needround))
plot(elementary, col=alexColsb[(dental$Urgent.needround-min(dental$Urgent.need)+1)], border="grey")
legend(x="topright", title="Urgent need (%)", fill=c(alexColsb[1],
alexColsb[median(dental$Urgent.needround)-min(dental$Urgent.needround)],
alexColsb[max(dental$Urgent.needround)- min(dental$Urgent.needround)]),
legend=c(min(dental$Urgent.needround), median(dental$Urgent.needround), max(dental$Urgent.needround)),
border="grey", bty="n", cex=0.7, y.intersp=0.8)
#PLOT Sealants
dental$Sealantsround <- round(dental$Sealants)
alexColsb <- colorRampPalette(brewer.pal(9, "Blues"))(max(dental$Sealantsround) -
min(dental$Sealantsround))
plot(elementary, col=alexColsb[(dental$Sealantsround-min(dental$Sealants)+1)], border="grey")
legend(x="topright", title="Sealants (%)", fill=c(alexColsb[1],
alexColsb[median(dental$Sealantsround)-min(dental$Sealantsround)],
alexColsb[max(dental$Sealantsround)- min(dental$Sealantsround)]),
legend=c(min(dental$Sealantsround), median(dental$Sealantsround), max(dental$Sealantsround)),
border="grey", bty="n", cex=0.7, y.intersp=0.8)
title(main="Dental Health Indicators in Alachua Elementary Schools", outer=TRUE, line=-1)
#################
# NOW WITH QUARTILES
##################
